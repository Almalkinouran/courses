## ASP.NET & Razor
Razor syntax is a simple programming syntax for embedding server-based code in a web page.

In a web page that uses the Razor syntax, there are two kinds of content: client content and server code.


## Client content
Client content is the stuff you're used to in web pages: HTML markup (elements), style information such as CSS, client script such as JavaScript, and plain text.


## Server content
Razor syntax lets you add server code to this client content. If there's server code in the page, the server runs that code first, before it sends the page to the browser.

By running on the server, the code can perform tasks that can be a lot more complex to do using client content alone, like accessing server-based databases.


## Server content
Most importantly, server code can dynamically create client content â€” it can generate HTML markup or other content on the fly and then send it to the browser along with any static HTML that the page might contain.

From the browser's perspective, client content that's generated by your server code is no different than any other client content.


## ASP.NET web pages
ASP.NET web pages that include the Razor syntax have a special file extension (`.cshtml` or `.vbhtml`). The server recognizes these extensions, runs the code that's marked with Razor syntax, and then sends the page to the browser.


## Sample Razor code
```html
@{
  string message = "Hello World!";
}
<!DOCTYPE html>
<html>
  <head>
    <title>Sample Razor code</title>
  </head>
  <body>
    <h1>Message is: @message</h1>
  </body>
</html>
```


## Razor syntax
The @ character starts inline expressions, single statement blocks, and multi-statement blocks.
```html
<!-- Single statement blocks  -->
@{ var total = 7; }

<!-- Inline expressions -->
<p>The value of your account is: @total </p>

<!-- Multi-statement block -->
@{     
  var greeting = "Welcome to our site!";
  var weekDay = DateTime.Now.DayOfWeek;
  var greetingMessage = greeting + " Today is: " + weekDay;
}
<p>The greeting is: @greetingMessage</p>
```


## That's it!
We can use any C# code we want...


## Example
```html
@{
  var showToday = false;
  if(showToday) {
    @DateTime.Today;
  }
  else {
    <text>Sorry!</text>   
  }
  foreach(var p in Posts) {
    <h2>p.Title</h1>
    <p>p.Content</p>
  }
}
```


## Creating a consistent look
To make it more efficient to create web pages for your site, you can create reusable blocks of content (like headers and footers) for your website, and you can create a consistent layout for all the pages.


## `@RenderPage()`  
ASP.NET lets you create a separate file with a __content block__ that can contain text, markup, and code, just like a regular web page.

You can then insert the content block in other pages on the site where you want the information to appear. That way you don't have to copy and paste the same content into every page.


## `@RenderPage()` example illustration
<img src="media/razor-renderpage.jpg" width="100%" />


## `@RenderPage()` example code
* `_Header.cshtml`:
  ```html
  <header>
    This is my header.
  </header>
  ```
* `_Footer.cshtml`:
  ```html
  <footer>
    &copy; 2016 AFDEmp Coding Bootcamp
  </footer>
  ```
* `Index.cshtml`:
  ```html
  ...
    <body>
      @RenderPage("/Shared/_Header.cshtml")

      <h1>Index Page Content</h1>
      <p>This is the content of the main page.</p>

      @RenderPage("/Shared/_Footer.cshtml")
    </body>
  </html>
  ```


## Not optimal!
What if we want to change content of `_Header.cshtml` depending on variables declared in `Index.cshtml`?


## Consistent look using Layout Pages
A layout page defines the structure of a web page, but doesn't contain any actual content.

After you've created a layout page, you can create web pages that contain the content and then link them to the layout page.

When these pages are displayed, they'll be formatted according to the layout page.


## `RenderBody()`
The layout page is just like any HTML page, except that it contains a call to the `RenderBody()` method. The position of the `RenderBody()` method in the layout page determines where the information from the content page will be included.


## `@RenderBody()` example illustration
<img src="media/razor-renderbody.jpg" width="100%" />


## `@RenderBody()` example code
* `_Layout.cshtml`:
```html
...
  <body>
    @RenderPage("/Shared/_Header.cshtml")
    <main> @RenderBody() </main>
    <footer>&copy; 2016 AFDemp Coding Bootcamp</footer>
  </body>
</html>
```
* `Content.cshtml`:
```html
  @{
    Layout = "/Shared/_Layout1.cshtml";
  }

  <h1> Structured Content </h1>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. </p
```
